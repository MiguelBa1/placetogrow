import{d as h,p as b,u as w,m,o as t,h as c,b as i,F as V,r as S,c as x,a1 as k,t as p,e as l,a as B,w as C,f as D,g as F,O as E}from"./app-Bpvmybdt.js";import{_ as d}from"./InputField.vue_vue_type_script_setup_true_lang-CfQ2MUfz.js";import{_ as N}from"./Listbox.vue_vue_type_script_setup_true_lang-DSl_v-Rk.js";import"./ApplicationLogo-B_getK0f.js";import{_ as $}from"./Button.vue_vue_type_script_setup_true_lang-3Poo1hdF.js";import"./PrimaryButton-DxnYWVKS.js";const M={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},O={class:"space-y-3"},T={class:"text-start text-gray-700"},H=h({__name:"DynamicForm",props:{fields:{},microsite:{}},setup(_){const u=b(),{t:a}=w(),o=m({}),n=m({}),{microsite:y,fields:U}=_,r=m(!1),f=s=>{switch(s){case"text":case"email":case"password":case"number":return d;case"select":return N;default:return d}},v=()=>{r.value=!0,E.post(route("payments.store",{microsite:y.slug}),o.value,{preserveScroll:!0,onSuccess:()=>{u.success(a("common.form.success")),n.value={}},onError:s=>{u.error((s==null?void 0:s.payment)??a("common.form.error")),n.value=s??{}},onFinish:()=>{r.value=!1}})};return(s,I)=>(t(),c("form",{onSubmit:F(v,["prevent"]),class:"space-y-4"},[i("div",M,[(t(!0),c(V,null,S(s.fields,e=>(t(),c("div",{key:e.id},[(t(),x(k(f(e.type)),{id:e.name,type:e.type,name:e.name,label:e.label,modelValue:o.value[e.name],"onUpdate:modelValue":g=>o.value[e.name]=g,options:e.options,error:n.value[e.name]},null,8,["id","type","name","label","modelValue","onUpdate:modelValue","options","error"]))]))),128))]),i("div",O,[i("p",T,p(l(a)("payments.show.paymentMessage",{payment_currency:s.microsite.payment_currency})),1),B(l($),{type:"submit",disabled:r.value},{default:C(()=>[D(p(l(a)("payments.show.form.pay")),1)]),_:1},8,["disabled"])])],32))}});export{H as _};
