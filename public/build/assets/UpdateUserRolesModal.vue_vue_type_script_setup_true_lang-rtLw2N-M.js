import{d as C,u as M,m as B,T as $,o as p,c as g,w as u,a as v,f as _,t as l,e,b as a,h as R,D as w,k as O,v as T,F as U,g as V}from"./app-BCmDl1Zp.js";import"./ApplicationLogo-BR7ADdCp.js";import{_ as k}from"./Button.vue_vue_type_script_setup_true_lang-Y_b8n5pJ.js";import{_ as D}from"./Modal.vue_vue_type_script_setup_true_lang-fUyfcrPW.js";import"./PrimaryButton-CcCgdORT.js";const F={class:"space-y-2"},N=["for"],S=["id","value","checked"],A={class:"ml-2"},z=C({__name:"UpdateUserRolesModal",props:{isOpen:{type:Boolean},user:{},availableRoles:{}},emits:["closeModal"],setup(x,{emit:b}){const{t:s}=M(),m=B(),{user:r}=x,c=b,i=$({roles:r?r.roles.map(o=>o.name):[]}),f=()=>{r&&i.put(route("users.updateRoles",r.id),{onSuccess:()=>{m.success(s("users.index.updateRoles.success"))},onError:()=>{m.error(s("users.index.updateRoles.error"))},onFinish:()=>{c("closeModal")}})},h=o=>i.roles.includes(o);return(o,n)=>(p(),g(e(D),{title:e(s)("users.index.updateRoles.title"),isOpen:o.isOpen,onClose:n[2]||(n[2]=d=>c("closeModal"))},{footerButtons:u(()=>[v(e(k),{type:"button",variant:"secondary",onClick:n[1]||(n[1]=d=>c("closeModal"))},{default:u(()=>[_(l(e(s)("users.index.updateRoles.cancel")),1)]),_:1}),v(e(k),{color:"blue",onClick:f},{default:u(()=>[_(l(e(s)("users.index.updateRoles.save")),1)]),_:1})]),default:u(()=>{var d;return[a("form",{onSubmit:V(f,["prevent"]),class:"space-y-4"},[a("div",null,l(e(s)("users.index.updateRoles.subTitle",{name:(d=o.user)==null?void 0:d.name})),1),a("div",F,[a("strong",null,l(e(s)("users.index.updateRoles.roles")),1),(p(!0),R(U,null,w(o.availableRoles,t=>(p(),R("div",{key:t.id},[a("label",{for:`role-${t.id}`,class:"flex items-center"},[O(a("input",{type:"checkbox",id:`role-${t.id}`,value:t.name,"onUpdate:modelValue":n[0]||(n[0]=y=>e(i).roles=y),checked:h(t.name)},null,8,S),[[T,e(i).roles]]),a("span",A,l(t.name.charAt(0).toUpperCase()+t.name.slice(1)),1)],8,N)]))),128))])],32)]}),_:1},8,["title","isOpen"]))}});export{z as _};
