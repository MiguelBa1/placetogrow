import{d as P,u as B,m as S,r as V,x as j,o as i,h as r,a as c,w as l,b as e,t as n,e as t,Z as C,f as p,F as u,p as h,k as E,v as M,g as N,O}from"./app-BIJ4Abzx.js";import{_ as D}from"./MainLayout.vue_vue_type_script_setup_true_lang-C15JnSKh.js";import"./ApplicationLogo-DROgA_Il.js";import{_ as v}from"./Button.vue_vue_type_script_setup_true_lang-DYVpFlCb.js";import"./PrimaryButton-D0pUaKYk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"flex justify-between items-center"},T={class:"font-semibold text-xl text-gray-800 leading-tight"},$={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},I={class:"bg-white space-y-6 px-6 py-4 shadow overflow-hidden sm:rounded-lg"},L={class:"text-lg font-semibold leading-6 text-gray-900"},U={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Z={class:"flex items center justify-between"},q={class:"flex items center"},z=["id","value"],A=["for"],G={class:"flex justify-end mt-4"},X=P({__name:"Edit",props:{role:{}},setup(g){const{t:o}=B(),m=S(),{role:f}=g,d=V([]);j(()=>{d.value=Object.values(f.data.permissions).flat().filter(s=>s.checked).map(s=>s.id)});const x=()=>{O.put(route("roles-permissions.update",f.data.id),{permissions:d.value},{preserveScroll:!0,onSuccess:()=>{m.success(o("rolePermissions.edit.success")),window.location.reload()},onError:()=>{m.error(o("rolePermissions.edit.error"))}})},b=()=>{history.back()};return(s,_)=>(i(),r(u,null,[c(t(C),null,{default:l(()=>[e("title",null,n(t(o)("rolePermissions.edit.title",{name:s.role.data.name})),1)]),_:1}),c(t(D),null,{header:l(()=>[e("div",F,[e("h2",T,n(t(o)("rolePermissions.edit.header",{name:s.role.data.name})),1),c(t(v),{variant:"secondary",color:"gray",onClick:b},{default:l(()=>[p(" Volver ")]),_:1})])]),default:l(()=>[e("form",{onSubmit:N(x,["prevent"])},[e("div",$,[(i(!0),r(u,null,h(s.role.data.permissions,(y,w)=>(i(),r("div",I,[e("h3",L,n(w),1),e("fieldset",U,[(i(!0),r(u,null,h(y,a=>(i(),r("div",{key:a.id},[e("div",Z,[e("div",q,[E(e("input",{type:"checkbox",id:a.id,value:a.id,"onUpdate:modelValue":_[0]||(_[0]=k=>d.value=k)},null,8,z),[[M,d.value]]),e("label",{for:a.id,class:"ml-2 text-sm font-semibold text-gray-700"},n(a.name),9,A)])])]))),128))])]))),256))]),e("div",G,[c(t(v),{type:"submit"},{default:l(()=>[p(n(t(o)("rolePermissions.edit.saveButton")),1)]),_:1})])],32)]),_:1})],64))}});export{X as default};
