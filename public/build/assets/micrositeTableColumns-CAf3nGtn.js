import{o as i,h as r,b as m,d as B,Q as O,u as S,m as _,a as l,w as c,f as v,t as y,e,c as f,l as h,i as u,F as g}from"./app-Bpvmybdt.js";import"./ApplicationLogo-B_getK0f.js";import{_ as V}from"./DataTable.vue_vue_type_script_setup_true_lang-Blwdu_ZY.js";import{_ as D}from"./Pagination.vue_vue_type_script_setup_true_lang-C29xOrvG.js";import"./PrimaryButton-DxnYWVKS.js";import{_ as H}from"./DeleteMicrositeModal.vue_vue_type_script_setup_true_lang-hpD4hGQ6.js";import{_ as N}from"./RestoreMicrositeModal.vue_vue_type_script_setup_true_lang-BCr6iI9I.js";import"./dayjs.min-DfHwKj4N.js";import{r as j}from"./EyeIcon-DEyrCNQO.js";import{r as R}from"./PencilSquareIcon-Dkcx9fl0.js";import{r as T}from"./TrashIcon-CicwjQ5G.js";function A(s,a){return i(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[m("path",{"fill-rule":"evenodd",d:"M12.5 9.75A2.75 2.75 0 0 0 9.75 7H4.56l2.22 2.22a.75.75 0 1 1-1.06 1.06l-3.5-3.5a.75.75 0 0 1 0-1.06l3.5-3.5a.75.75 0 0 1 1.06 1.06L4.56 5.5h5.19a4.25 4.25 0 0 1 0 8.5h-1a.75.75 0 0 1 0-1.5h1a2.75 2.75 0 0 0 2.75-2.75Z","clip-rule":"evenodd"})])}function F(s,a){return i(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}const I={class:"w-full space-y-4"},Z={class:"flex justify-center"},E={key:0,class:"flex justify-center gap-2"},L=["onClick"],Q=["onClick"],oe=B({__name:"MicrositesTable",props:{microsites:{}},setup(s){const{props:{auth:{permissions:a}}}=O(),{t:k}=S(),b=q(k),n=_(null),d=_(!1),p=_(!1),x=t=>{n.value=t,d.value=!0},w=()=>{d.value=!1,n.value=null},M=t=>{n.value=t,p.value=!0},C=()=>{p.value=!1,n.value=null};return(t,z)=>(i(),r(g,null,[m("div",I,[l(e(V),{columns:e(b),rows:t.microsites.data,class:"rounded-lg"},{"cell-type":c(({row:o})=>[v(y(o.type.label),1)]),"cell-category":c(({row:o})=>[v(y(o.category.name),1)]),"cell-actions":c(({row:o})=>[m("div",Z,[o.deleted_at?(i(),r(g,{key:1},[e(a).includes("restore_microsite")?(i(),r("button",{key:0,class:"text-green-600 hover:text-green-800",onClick:$=>M(o.slug)},[l(e(A),{class:"w-5 h-5"})],8,Q)):u("",!0)],64)):(i(),r("div",E,[e(a).includes("view_microsite")?(i(),f(e(h),{key:0,href:t.route("microsites.show",{microsite:o.slug,page:t.microsites.meta.current_page}),class:"text-gray-600 hover:text-gray-900"},{default:c(()=>[l(e(j),{class:"w-5 h-5"})]),_:2},1032,["href"])):u("",!0),e(a).includes("update_microsite")?(i(),f(e(h),{key:1,href:t.route("microsites.edit",{microsite:o.slug,page:t.microsites.meta.current_page}),class:"text-blue-600 hover:text-blue-900"},{default:c(()=>[l(e(R),{class:"w-5 h-5"})]),_:2},1032,["href"])):u("",!0),o.type.value==="invoice"&&e(a).includes("view_any_invoice")?(i(),f(e(h),{key:2,href:t.route("microsites.invoices.index",{microsite:o.slug}),title:"Invoices"},{default:c(()=>[l(e(F),{class:"w-5 h-5"})]),_:2},1032,["href"])):u("",!0),e(a).includes("delete_microsite")?(i(),r("button",{key:3,class:"text-red-600 hover:text-red-900",onClick:$=>x(o.slug)},[l(e(T),{class:"w-5 h-5"})],8,L)):u("",!0)]))])]),_:1},8,["columns","rows"]),l(e(D),{links:t.microsites.meta.links},null,8,["links"])]),l(e(H),{isOpen:d.value,micrositeSlug:n.value,onCloseModal:w},null,8,["isOpen","micrositeSlug"]),l(e(N),{isOpen:p.value,micrositeSlug:n.value,onCloseModal:C},null,8,["isOpen","micrositeSlug"])],64))}}),q=s=>[{key:"id",label:s("microsites.index.table.id")},{key:"name",label:s("microsites.index.table.name")},{key:"category",label:s("microsites.index.table.category")},{key:"type",label:s("microsites.index.table.type")},{key:"responsible_name",label:s("microsites.index.table.responsible_name")},{key:"payment_currency",label:s("microsites.index.table.payment_currency")},{key:"payment_expiration",label:s("microsites.index.table.payment_expiration")},{key:"actions",label:s("microsites.index.table.actions")}];export{oe as _};
